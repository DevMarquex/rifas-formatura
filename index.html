<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rifas da Formatura</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  /* Estilos Gerais */
  body {
    font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom, #ffc4d8, #f0e6ff);
    margin: 0;
    padding: 20px;
    color: #333;
    position: relative;
    cursor: default;
  }
  h1 {
    text-align: center;
    margin-bottom: 5px;
    font-weight: 700;
  }
  .content-wrapper {
    position: relative;
    z-index: 2;
  }

  /* Canvas para o fundo animado */
  #canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;
    pointer-events: none;
  }

  /* --- SE√á√ÉO MAIORES COMPRADORES --- */
  .maiores-compradores {
    max-width: 550px;
    margin: 0 auto 30px auto;
    background: #ffc4d8;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    padding: 20px 30px;
    text-align: center;
  }
  .maiores-compradores h2 {
    margin-top: 0;
    color: #2c3e50;
    font-weight: 700;
  }
  .maiores-compradores ol {
    padding-left: 0;
    margin: 20px 0 0 0;
    font-size: 1.1rem;
    color: #555;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .maiores-compradores li {
    display: flex;
    align-items: center;
    padding: 12px 18px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    transition: transform 0.2s ease-in-out;
    background: linear-gradient(135deg, #f9f9f9, #e9e9e9);
  }
  .maiores-compradores li:hover {
      transform: scale(1.03);
  }
  .maiores-compradores li .emoji {
      font-size: 1.5rem;
      margin-right: 15px;
  }
  .maiores-compradores li .nome {
      font-weight: 600;
      flex-grow: 1;
      color: #34495e;
  }
  .maiores-compradores li .qtd {
      font-weight: 700;
      color: #fff;
      background-color: #3498db;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.9em;
  }
  .maiores-compradores li:nth-child(1) {
      background: linear-gradient(135deg, #ffd700, #ffc700);
  }
  .maiores-compradores li:nth-child(1) .qtd {
      background-color: #c9a300;
  }
  .maiores-compradores li:nth-child(2) {
      background: linear-gradient(135deg, #c0c0c0, #b0b0b0);
  }
   .maiores-compradores li:nth-child(2) .qtd {
      background-color: #939393;
  }
  .maiores-compradores li:nth-child(3) {
      background: linear-gradient(135deg, #cd7f32, #bf6f22);
  }
  .maiores-compradores li:nth-child(3) .qtd {
      background-color: #a05a15;
  }

  /* Bot√£o para ver outros compradores */
  #btn-ver-outros {
    margin-top: 25px;
    padding: 10px 18px;
    background-color: #5dade2;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s;
    font-family: 'Poppins', sans-serif;
  }
  #btn-ver-outros:hover {
    background-color: #3498db;
  }

  /* Se√ß√£o Pr√™mios */
  .premios {
    max-width: 900px;
    margin: 0 auto 30px auto;
    display: flex;
    justify-content: center;
    gap: 60px;
    flex-wrap: wrap;
  }
  .premio {
    background: #ffc4d8;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    padding: 20px;
    flex: 1 1 280px;
    text-align: center;
    transition: transform 0.3s ease;
  }
  .premio:hover {
    transform: translateY(-6px);
  }
  .premio img {
    width: 120px;
    height: auto;
    margin-bottom: 15px;
    border-radius: 10px;
  }
  .premio h2 {
    font-size: 1.4rem;
    margin: 0 0 8px;
    color: #2c3e50;
  }
  .premio p {
    font-size: 1rem;
    color: #555;
    margin: 0;
  }

  /* --- Grid de Rifas (COM ANIMA√á√ÉO) --- */
  .rifas {
    max-width: 900px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
    gap: 8px;
  }
  .rifa {
    background-color: #d1f0d1;
    border-radius: 6px;
    border: 1px solid #8bc34a;
    height: 70px;
    line-height: 20px;
    text-align: center;
    font-weight: 600;
    cursor: pointer;
    user-select: none;
    display: flex;
    flex-direction: column;
    justify-content: center;
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
  }
  .rifa:not(.reservada):not(.selecionada):hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.1);
  }

  .rifa.reservada {
    background-color: #ffccd0;
    border-color: #e57373;
    cursor: pointer;
  }
  .rifa.selecionada {
    background-color: #fff59d;
    border-color: #fbc02d;
    transform: translateY(-2px);
  }

  /* Popups e Overlay */
  .popup, .overlay {
    display: none;
    position: fixed;
    z-index: 999;
  }
  .overlay {
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.6);
  }
  .popup {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 25px 30px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    border-radius: 14px;
    z-index: 1000;
    max-width: 90vw;
    max-height: 80vh;
    flex-direction: column;
  }
  .popup-small {
      max-width: 320px;
      text-align: center;
  }
  .popup h3 {
    margin-top: 0;
    font-weight: 700;
    color: #c0392b;
  }
  .popup-button {
    margin-top: 20px;
    padding: 10px 18px;
    background-color: #27ae60;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
  }
  .popup-button:hover {
    background-color: #229954;
  }

  /* Estilos espec√≠ficos para o popup de 'Outros Compradores' */
  #outros-compradores-popup h3 {
      color: #2980b9;
  }
  #filtro-compradores {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
  }
  #lista-outros-compradores {
      list-style: none;
      padding: 0;
      margin: 0;
      overflow-y: auto;
      text-align: left;
  }
  #lista-outros-compradores li {
      padding: 10px 8px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
  }
  #lista-outros-compradores li:last-child {
      border-bottom: none;
  }
  #lista-outros-compradores strong {
      color: #34495e;
      font-weight: 600;
  }
  #lista-outros-compradores .total-rifas {
      font-weight: 600;
      color: #fff;
      background-color: #5dade2;
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 0.9em;
  }

  /* Bot√£o Flutuante de Compra */
  #botao-compra-flutuante {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 2000;
  }
  #botao-compra-flutuante button {
    background-color: #25d366;
    color: white;
    border: none;
    padding: 14px 20px;
    font-size: 16px;
    font-weight: bold;
    border-radius: 999px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: background 0.3s;
  }
  #botao-compra-flutuante button:hover {
    background-color: #20b954;
  }
</style>
</head>
<body>
<canvas id="canvas"></canvas>

<div class="content-wrapper">
    <div class="maiores-compradores">
      <h2>üèÜ Ranking dos Maiores Compradores üèÜ</h2>
      <ol id="ranking-list"></ol>
      <button id="btn-ver-outros">Ver Outros Compradores</button>
    </div>

    <div class="premios">
      <div class="premio">
        <img src="https://cdsassets.apple.com/live/7WUAS350/images/tech-specs/iphone_15_hero.png" alt="iPhone 15" />
        <h2>1¬∫ Lugar</h2>
        <p>iPhone 15 128GB</p>
      </div>
      <div class="premio">
        <img src="https://m.media-amazon.com/images/I/41ZieyJmyvL._AC_SX679_.jpg" alt="Cesta de Chocolates Cacau Show" />
        <h2>2¬∫ Lugar</h2>
        <p>Cesta de Chocolates Cacau Show</p>
      </div>
    </div>

    <h1>Rifas Formatura</h1>
    <div id="contador" style="text-align: center; margin-bottom: 20px; font-size: 18px;"></div>
    <div class="rifas" id="rifas-container"></div>
</div>

<div class="overlay" id="overlay-rifa"></div>
<div class="popup popup-small" id="popup-rifa">
  <h3>Rifa Reservada</h3>
  <div id="popup-content"></div>
  <button class="popup-button" id="close-popup-rifa">Fechar</button>
</div>

<div class="overlay" id="overlay-outros"></div>
<div class="popup" id="outros-compradores-popup">
  <h3>Outros Compradores</h3>
  <input type="text" id="filtro-compradores" placeholder="Buscar por nome...">
  <ul id="lista-outros-compradores"></ul>
  <button class="popup-button" id="close-popup-outros">Fechar</button>
</div>

<div id="botao-compra-flutuante">
  <button id="enviar-whatsapp">Comprar (0)</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  // --- CURSOR DE BRILHO ROSA ---
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const mouse = { x: undefined, y: undefined };
  let particlesArray = [];
  const colors = ['#E0218A', '#F984C3', '#F2228A', '#ffffff', '#FED9E9'];

  class Particle {
      constructor(x, y) {
          this.x = x;
          this.y = y;
          this.size = Math.random() * 6 + 1;
          this.speedX = Math.random() * 2 - 1;
          this.speedY = Math.random() * 2 - 1;
          this.color = colors[Math.floor(Math.random() * colors.length)];
          this.life = 1;
          this.decay = Math.random() * 0.02 + 0.01;
      }
      update() {
          this.x += this.speedX;
          this.y += this.speedY;
          this.speedY += 0.03;
          this.life -= this.decay;
      }
      draw() {
          ctx.globalAlpha = this.life;
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
      }
  }

  function handleParticles() {
      for (let i = particlesArray.length - 1; i >= 0; i--) {
          particlesArray[i].update();
          particlesArray[i].draw();
          if (particlesArray[i].life <= 0) {
              particlesArray.splice(i, 1);
          }
      }
  }

  window.addEventListener('mousemove', (event) => {
    mouse.x = event.x;
    mouse.y = event.y;
    for (let i = 0; i < 5; i++) {
        particlesArray.push(new Particle(mouse.x, mouse.y));
    }
  });

  function animate() {
      ctx.globalAlpha = 1;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      handleParticles();
      requestAnimationFrame(animate);
  }
  animate();
  
  window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
  });

  // --- DADOS E CONSTANTES DA RIFA ---
  const rifasReservadas = {
      "0507": "Adelar Israel",
      "1003": "Adelar Israel",
      "0108": "Ademir Zonatto",
      "0123": "Ademir Zonatto",
      "1209": "Ad√£o Morais",
      "0531": "Alexandre Rodrigues",
      "0608": "Alex Sygecom",
      "0013": "Allan Pereira",
      "0022": "Allan Pereira",
      "1325": "Alessandra Abreu",
      "1331": "Alessandra Abreu",
      "1350": "Alessandra Abreu",
      "1362": "Alessandra Abreu",
      "1380": "Alessandra Abreu",
      "0120": "Aline Dutra",
      "0122": "Aline Dutra",
      "0126": "Aline Dutra",
      "0146": "Aline Dutra",
      "0162": "Aline Dutra",
      "0136": "Alzira Dos Santos",
      "0194": "Alzira Dos Santos",
      "0023": "Amanda Silva",
      "1987": "Amanda Silva",
      "1990": "Amanda Silva",
      "1309": "Amanda Souza",
      "1310": "Amanda Souza",
      "0002": "Ana Barcella",
      "2000": "Ana Barcella",
      "0158": "Ana Laura",
      "0712": "Andrei Rodrigues",
      "1670": "Andrei Rodrigues",
      "1864": "Andrei Rodrigues",
      "1102": "Andrei Velloso",
      "1103": "Andrei Velloso",
      "1104": "Andrei Velloso",
      "1105": "Andrei Velloso",
      "1107": "Andrei Velloso",
      "1108": "Andrei Velloso",
      "1109": "Andrei Velloso",
      "1110": "Andrei Velloso",
      "1111": "Andrei Velloso",
      "1114": "Andrei Velloso",
      "0053": "Andrew Perraro",
      "0061": "Andrew Perraro",
      "0168": "Andrew Perraro",
      "0169": "Andrew Perraro",
      "0223": "Andrew Perraro",
      "0327": "Andrew Perraro",
      "0357": "Andrew Perraro",
      "0364": "Andrew Perraro",
      "0408": "Andrew Perraro",
      "0771": "Andrew Perraro",
      "0687": "Andrieli Machado",
      "1190": "Annelise Evangelista",
      "1192": "Annelise Evangelista",
      "1195": "Annelise Evangelista",
      "1320": "Annelise Evangelista",
      "1337": "Annelise Evangelista",
      "1342": "Annelise Evangelista",
      "1349": "Annelise Evangelista",
      "1359": "Annelise Evangelista",
      "0181": "Bernard Beier",
      "0207": "Bernard Beier",
      "0310": "Bernard Beier",
      "0325": "Bernard Beier",
      "1920": "Bruna Duarte",
      "0087": "Bruna Rocha",
      "0137": "Bruna Rocha",
      "0147": "Bruna Rocha",
      "0157": "Bruna Rocha",
      "0167": "Bruna Rocha",
      "1148": "Bruna Roth",
      "0659": "Bruno Carravetta",
      "0667": "Bruno Carravetta",
      "0673": "Bruno Carravetta",
      "0041": "Bruno Dutra",
      "0141": "Bruno Dutra",
      "0241": "Bruno Dutra",
      "0441": "Bruno Dutra",
      "0056": "Carla Iwanczuk",
      "0103": "Carla Iwanczuk",
      "0208": "Carla Iwanczuk",
      "0319": "Carla Iwanczuk",
      "0437": "Carla Iwanczuk",
      "0789": "Carla Iwanczuk",
      "0860": "Carla Iwanczuk",
      "0888": "Carla Iwanczuk",
      "0914": "Carla Iwanczuk",
      "0927": "Carla Iwanczuk",
      "0930": "Carla Iwanczuk",
      "1077": "Carla Iwanczuk",
      "1080": "Carla Iwanczuk",
      "1094": "Carla Iwanczuk",
      "1096": "Carla Iwanczuk",
      "1097": "Carla Iwanczuk",
      "1098": "Carla Iwanczuk",
      "1175": "Carla Iwanczuk",
      "1197": "Carla Iwanczuk",
      "1200": "Carla Iwanczuk",
      "1203": "Carla Iwanczuk",
      "1312": "Carla Iwanczuk",
      "1326": "Carla Iwanczuk",
      "1328": "Carla Iwanczuk",
      "1369": "Carla Iwanczuk",
      "1610": "Carla Iwanczuk",
      "1834": "Carla Iwanczuk",
      "1964": "Carla Iwanczuk",
      "0054": "Carlos Cremonini",
      "0358": "Carlos Cremonini",
      "0505": "Carlos Cremonini",
      "0625": "Carlos Cremonini",
      "1150": "Carlos Cremonini",
      "0615": "Charles Mayer",
      "0100": "Cintia Botta",
      "0102": "Cintia Botta",
      "0190": "Cintia Botta",
      "1526": "Claudia Daiana",
      "0177": "Cl√°udio Thiago",
      "0064": "Cristiane Carnelutti",
      "0065": "Cristiane Carnelutti",
      "0066": "Cristiane Carnelutti",
      "0067": "Cristiane Carnelutti",
      "0068": "Cristiane Carnelutti",
      "1124": "Cristina Jung",
      "1181": "Daniel Rocha",
      "1143": "Daniela Chies",
      "1118": "Daniela Gonsalves",
      "1119": "Daniela Gonsalves",
      "0250": "Daniele Hendler",
      "0302": "Daniele Hendler",
      "0336": "Daniele Hendler",
      "0405": "Daniele Hendler",
      "0511": "Daniele Hendler",
      "0591": "Daniele Hendler",
      "0173": "Danieli Krause",
      "1146": "Doutor Andr√©",
      "1149": "Doutor Andr√©",
      "0600": "Edson Dorvis",
      "0016": "Eliete Santos",
      "0047": "Eliete Santos",
      "0113": "Eloi Natalia",
      "0119": "Eloi Natalia",
      "0132": "Eloi Natalia",
      "0154": "Eloi Natalia",
      "0155": "Eloi Natalia",
      "0020": "Erica Dutra",
      "0090": "Erica Dutra",
      "0096": "Erica Dutra",
      "0171": "Erica Dutra",
      "1156": "Eva Tartari",
      "1157": "Eva Tartari",
      "1173": "Eva Tartari",
      "1300": "Eva Tartari",
      "1301": "Eva Tartari",
      "0607": "Fabiana Lima",
      "0018": "Fabiano Amaral",
      "1000": "Fabiano Amaral",
      "1315": "Fabiano Amaral",
      "1316": "Fabiano Amaral",
      "1974": "Fabiano Amaral",
      "0114": "Fabio Schinato",
      "0116": "Fabio Schinato",
      "0124": "Fabio Schinato",
      "0125": "Fabio Schinato",
      "0075": "F√°bio Paz",
      "0076": "F√°bio Paz",
      "1127": "FeFa Duarte",
      "1135": "FeFa Duarte",
      "1191": "FeFa Duarte",
      "1193": "FeFa Duarte",
      "1196": "FeFa Duarte",
      "1333": "FeFa Duarte",
      "1377": "FeFa Duarte",
      "1381": "FeFa Duarte",
      "0697": "Felipe Arend",
      "0017": "Felipe Braga",
      "0030": "Felipe Braga",
      "0071": "Felipe Braga",
      "0093": "Felipe Braga",
      "0110": "Felipe Braga",
      "1302": "Fernanda Bochi",
      "1303": "Fernanda Bochi",
      "1304": "Fernanda Bochi",
      "1116": "Fernando Zandon√°",
      "1142": "Fernando Zandon√°",
      "1176": "Fernando Zandon√°",
      "0283": "Filipe Gil",
      "0284": "Filipe Gil",
      "0285": "Filipe Gil",
      "0286": "Filipe Gil",
      "0287": "Filipe Gil",
      "0288": "Filipe Gil",
      "0338": "Filipe Gil",
      "0340": "Filipe Gil",
      "0344": "Filipe Gil",
      "0352": "Filipe Gil",
      "0373": "Filipe Gil",
      "0381": "Filipe Gil",
      "0026": "Filipe Tiago",
      "0048": "Filipe Tiago",
      "0050": "Filipe Tiago",
      "0052": "Filipe Tiago",
      "0029": "Fl√°via Roberta",
      "0097": "Fl√°via Roberta",
      "1973": "Fl√°via Roberta",
      "0227": "Fl√°via Silveira",
      "0560": "Fl√°via Silveira",
      "0719": "Fl√°via Silveira",
      "1159": "Flavio Couto",
      "0613": "Franciele Nunes",
      "0144": "Francielle Trassante",
      "0160": "Francielle Trassante",
      "0166": "Francielle Trassante",
      "1125": "Francisco Simanis",
      "1126": "Francisco Simanis",
      "1172": "Gabriel Abreu",
      "1179": "Gabriel Abreu",
      "1323": "Gabriel Abreu",
      "0610": "Gabriel Sygecom",
      "0611": "Gabriel Sygecom",
      "0006": "Gabriel Vinagre",
      "0019": "Gabriel Vinagre",
      "0072": "Gabriel Vinagre",
      "1845": "Gabriel Vinagre",
      "0001": "Gabriel o Implac√°vel",
      "1909": "Gabriel o Implac√°vel",
      "0011": "Gabriela Motta",
      "1311": "Gabriela Motta",
      "0506": "Georgia Mallmann",
      "1122": "Gerson Godinho",
      "1128": "Gerson Godinho",
      "0077": "Gian Berzagui",
      "0384": "Gian Berzagui",
      "0139": "Gisa Favero",
      "0163": "Gisa Favero",
      "0165": "Gisa Favero",
      "0182": "Gisa Favero",
      "0375": "Gisa Favero",
      "1145": "Giovana Borges",
      "1152": "Giovani Bigolin",
      "1153": "Giovani Bigolin",
      "1154": "Giovani Bigolin",
      "0644": "Graciane Gomes",
      "1115": "Guilherme Taseschini",
      "0085": "Guilherme Zawacki",
      "0898": "Guilherme Zawacki",
      "0665": "Henrique Antunes",
      "0062": "Henrique Gattini",
      "0063": "Henrique Gattini",
      "0007": "Henrique Santos",
      "0777": "Henrique Santos",
      "0706": "In√°cio Perraro",
      "0909": "In√°cio Perraro",
      "1895": "Isaac Alves",
      "1041": "Isaac Alves",
      "1802": "Isaac Alves",
      "1803": "Isaac Alves",
      "1901": "Isaac Alves",
      "0215": "Ivete Puchalski",
      "0617": "Jean Alexander",
      "1133": "Joane Calderaro",
      "1134": "Joane Calderaro",
      "1136": "Joane Calderaro",
      "1137": "Joane Calderaro",
      "1138": "Joane Calderaro",
      "0028": "Jo√£o Rodrigues",
      "0049": "Jo√£o Rodrigues",
      "0099": "Jo√£o Rodrigues",
      "0606": "Jo√£o Sastre",
      "0128": "Joceli Gomes",
      "0129": "Joceli Gomes",
      "0130": "Joceli Gomes",
      "1120": "Jose Spizzirri",
      "1121": "Jose Spizzirri",
      "0701": "Julia Ivanczuk",
      "0702": "Julia Ivanczuk",
      "0703": "Julia Ivanczuk",
      "1198": "Julia Machado",
      "1130": "Juliano Vargas",
      "1131": "Juliano Vargas",
      "0685": "Kelen Lescano",
      "0272": "Kevim Acosta",
      "0440": "Kevim Acosta",
      "0477": "Kevim Acosta",
      "0621": "Kevim Acosta",
      "0656": "Kevim Acosta",
      "0675": "Kevim Acosta",
      "1903": "Kevim Acosta",
      "1910": "Kevim Acosta",
      "1940": "Kevim Acosta",
      "1955": "Kevim Acosta",
      "0201": "Kimberly Iwanczuk",
      "0603": "Kimberly Iwanczuk",
      "0906": "Kimberly Iwanczuk",
      "1205": "Kimberly Iwanczuk",
      "1206": "Kimberly Iwanczuk",
      "1207": "Kimberly Iwanczuk",
      "1208": "Kimberly Iwanczuk",
      "1211": "Kimberly Iwanczuk",
      "1212": "Kimberly Iwanczuk",
      "1213": "Kimberly Iwanczuk",
      "1214": "Kimberly Iwanczuk",
      "1215": "Kimberly Iwanczuk",
      "1216": "Kimberly Iwanczuk",
      "1777": "Kimberly Iwanczuk",
      "1992": "Kimberly Iwanczuk",
      "1999": "Kimberly Iwanczuk",
      "1308": "Larissa Lerey",
      "1318": "Larissa Lerey",
      "1113": "Let√≠cia Torres",
      "1117": "Let√≠cia Torres",
      "1123": "Let√≠cia Torres",
      "1347": "Let√≠cia Torres",
      "1348": "Let√≠cia Torres",
      "0627": "Lidio Gall",
      "0628": "Lidio Gall",
      "0629": "Lidio Gall",
      "0107": "Lorenzo Santos",
      "0156": "Lorenzo Santos",
      "0605": "Luiza Stassen",
      "0070": "Mara Marques",
      "0175": "Mara Marques",
      "0180": "Mara Marques",
      "0270": "Mara Marques",
      "0308": "Mara Marques",
      "0404": "Mara Marques",
      "0419": "Mara Marques",
      "0512": "Mara Marques",
      "0575": "Mara Marques",
      "0619": "Mara Marques",
      "0640": "Mara Marques",
      "0830": "Mara Marques",
      "0926": "Mara Marques",
      "0975": "Mara Marques",
      "1178": "Mara Marques",
      "1264": "Mara Marques",
      "1427": "Mara Marques",
      "1532": "Mara Marques",
      "1639": "Mara Marques",
      "1705": "Mara Marques",
      "0616": "Marcelo Rosa",
      "0690": "Marcello Henrique",
      "0055": "Maria Flores",
      "1100": "Maria Val√©ria",
      "1106": "Maria Val√©ria",
      "0004": "Mariana Collares",
      "0700": "Mari Marcola",
      "0216": "Marli Cremonini",
      "0904": "Matheus Nunes",
      "1998": "Matheus Nunes",
      "0604": "Matheus Silva",
      "0500": "Murilo Bellon",
      "0501": "Murilo Bellon",
      "0502": "Murilo Bellon",
      "0503": "Murilo Bellon",
      "0504": "Murilo Bellon",
      "0219": "Natalia Pontes",
      "0225": "Natalia Pontes",
      "0230": "Natalia Pontes",
      "0257": "Natalia Pontes",
      "1141": "Natalia Roese",
      "0661": "Natasha Balhejo",
      "0135": "Neide Dutra",
      "0149": "Neide Dutra",
      "0174": "Neide Dutra",
      "0304": "Neide Dutra",
      "1958": "Neide Dutra",
      "1970": "Neide Dutra",
      "1971": "Neide Dutra",
      "1972": "Neide Dutra",
      "1975": "Neide Dutra",
      "1982": "Neide Dutra",
      "1996": "Neide Dutra",
      "1969": "Nelson Rodrigues",
      "1976": "Nelson Rodrigues",
      "1979": "Nelson Rodrigues",
      "1980": "Nelson Rodrigues",
      "1991": "Nelson Rodrigues",
      "1965": "Nicole Machado",
      "1966": "Nicole Machado",
      "1978": "Nicole Machado",
      "0626": "Onofre Ivanczuk",
      "0747": "Onofre Ivanczuk",
      "0754": "Onofre Ivanczuk",
      "0953": "Onofre Ivanczuk",
      "1202": "Orlando Xand√£o",
      "1139": "Os√≥rio",
      "1140": "Os√≥rio",
      "0200": "Patricia Free",
      "1166": "Patr√≠cia Bassotto",
      "1167": "Patr√≠cia Bassotto",
      "1305": "Patr√≠cia Bassotto",
      "1313": "Patr√≠cia Bassotto",
      "1322": "Patr√≠cia Bassotto",
      "0622": "Paulo Roberto",
      "1101": "Pedro Borba",
      "1174": "Pedro Borba",
      "1177": "Pedro Borba",
      "1194": "Pedro Borba",
      "1199": "Pedro Borba",
      "1399": "Pedro Borba",
      "0115": "Pedro Costa",
      "0159": "Pedro Costa",
      "0266": "Pedro Costa",
      "0368": "Pedro Costa",
      "0031": "Pedro Silva",
      "0036": "Pedro Silva",
      "0038": "Pedro Silva",
      "0039": "Pedro Silva",
      "1306": "Pierre Rassier",
      "1307": "Pierre Rassier",
      "0184": "Priscila Pedersetti",
      "0185": "Priscila Pedersetti",
      "0550": "Priscila Pedersetti",
      "0562": "Priscila Pedersetti",
      "0775": "Priscila Pedersetti",
      "1184": "Rafael Abreu",
      "1185": "Rafael Abreu",
      "1189": "Rafael Abreu",
      "1710": "Rafael Abreu",
      "1711": "Rafael Abreu",
      "1712": "Rafael Abreu",
      "1713": "Rafael Abreu",
      "1714": "Rafael Abreu",
      "0601": "Rafael Souza",
      "0609": "Raquel Fischer",
      "0027": "Reginaldo Silveira",
      "0032": "Reginaldo Silveira",
      "0059": "Reginaldo Silveira",
      "0069": "Reginaldo Silveira",
      "1968": "Reginaldo Silveira",
      "1997": "Renan Santos",
      "0021": "Ricardo Iwanczuk",
      "0058": "Ricardo Iwanczuk",
      "0060": "Ricardo Iwanczuk",
      "0148": "Ricardo Iwanczuk",
      "0198": "Ricardo Iwanczuk",
      "0199": "Ricardo Iwanczuk",
      "0211": "Ricardo Iwanczuk",
      "0299": "Ricardo Iwanczuk",
      "0347": "Ricardo Iwanczuk",
      "0464": "Ricardo Iwanczuk",
      "0527": "Ricardo Iwanczuk",
      "0710": "Ricardo Iwanczuk",
      "0781": "Ricardo Iwanczuk",
      "0800": "Ricardo Iwanczuk",
      "0801": "Ricardo Iwanczuk",
      "0880": "Ricardo Iwanczuk",
      "0900": "Ricardo Iwanczuk",
      "0902": "Ricardo Iwanczuk",
      "0903": "Ricardo Iwanczuk",
      "0977": "Ricardo Iwanczuk",
      "1016": "Ricardo Iwanczuk",
      "1017": "Ricardo Iwanczuk",
      "1018": "Ricardo Iwanczuk",
      "1019": "Ricardo Iwanczuk",
      "1245": "Ricardo Iwanczuk",
      "1327": "Ricardo Iwanczuk",
      "1329": "Ricardo Iwanczuk",
      "1330": "Ricardo Iwanczuk",
      "0005": "Ricardo Vilar",
      "0010": "Ricardo Vilar",
      "0009": "Rita Martins",
      "0121": "Robson Telesforo",
      "0212": "Robson Telesforo",
      "0912": "Robson Telesforo",
      "1273": "Robson Telesforo",
      "0243": "Rodrigo*",
      "0003": "Roger Alexandre",
      "0008": "Roger Alexandre",
      "0040": "Roger Alexandre",
      "0051": "Roger Alexandre",
      "0131": "Roger Alexandre",
      "0133": "Roger Alexandre",
      "0134": "Roger Alexandre",
      "1625": "Roger Alexandre",
      "0033": "Ronaldo Samsel",
      "0034": "Ronaldo Samsel",
      "0035": "Ronaldo Samsel",
      "0179": "Rosana Duarte",
      "0261": "Rosana Duarte",
      "0555": "Rosana Duarte",
      "0578": "Rosana Duarte",
      "0612": "Rosana Duarte",
      "0618": "Rosana Duarte",
      "0643": "Rosana Duarte",
      "0655": "Rosana Duarte",
      "0699": "Rosana Duarte",
      "1555": "Rosana Duarte",
      "1599": "Rosana Duarte",
      "1938": "Rosana Duarte",
      "1939": "Rosana Duarte",
      "1943": "Rosana Duarte",
      "1945": "Rosana Duarte",
      "1959": "Rosana Duarte",
      "1961": "Rosana Duarte",
      "1984": "Rosana Duarte",
      "1986": "Rosana Duarte",
      "1988": "Rosana Duarte",
      "0012": "Roseli Ivankio",
      "0015": "Roseli Ivankio",
      "0057": "Roseli Ivankio",
      "0112": "Roseli Ivankio",
      "0118": "Roseli Ivankio",
      "0238": "Roseli Ivankio",
      "0309": "Roseli Ivankio",
      "0315": "Roseli Ivankio",
      "0333": "Roseli Ivankio",
      "0360": "Roseli Ivankio",
      "0520": "Roseli Ivankio",
      "0733": "Roseli Ivankio",
      "1658": "Roseli Ivankio",
      "0213": "Rosi Duarte",
      "0024": "Sabrina Bianca",
      "0084": "Sabrina Bianca",
      "0025": "Sandra Claudemir",
      "0117": "Sandra Claudemir",
      "0205": "Sandra Claudemir",
      "0841": "Sandra Claudemir",
      "0976": "Sandra Claudemir",
      "1453": "Sandra Maciel",
      "1454": "Sandra Maciel",
      "1455": "Sandra Maciel",
      "0528": "S√©rgio Medeiros",
      "0535": "S√©rgio Medeiros",
      "0538": "S√©rgio Medeiros",
      "0576": "S√©rgio Medeiros",
      "1186": "S√©rgio Medeiros",
      "1187": "S√©rgio Medeiros",
      "1188": "S√©rgio Medeiros",
      "1169": "S√©rgio Neuwald",
      "1170": "S√©rgio Neuwald",
      "1314": "S√©rgio Neuwald",
      "1346": "S√©rgio Neuwald",
      "1162": "Shayanna Oliveira",
      "1182": "Silvio JF",
      "1183": "Silvio JF",
      "1993": "Suelen Soares",
      "1995": "Suelen Soares",
      "0042": "Suze Pereira",
      "0043": "Suze Pereira",
      "0044": "Suze Pereira",
      "0045": "Suze Pereira",
      "0046": "Suze Pereira",
      "1132": "Suzen Brum",
      "1147": "Suzen Brum",
      "0614": "Taline Lima",
      "0602": "Thales Dias",
      "0014": "Thiago Marques",
      "0037": "Thiago Marques",
      "0089": "Thiago Marques",
      "0101": "Thiago Marques",
      "0127": "Thiago Marques",
      "0153": "Thiago Marques",
      "0188": "Thiago Marques",
      "0193": "Thiago Marques",
      "0209": "Thiago Marques",
      "0237": "Thiago Marques",
      "0268": "Thiago Marques",
      "0290": "Thiago Marques",
      "0305": "Thiago Marques",
      "0412": "Thiago Marques",
      "0467": "Thiago Marques",
      "0509": "Thiago Marques",
      "0624": "Thiago Marques",
      "0709": "Thiago Marques",
      "0793": "Thiago Marques",
      "1210": "Thiago Marques",
      "1463": "Thiago Marques",
      "1543": "Thiago Marques",
      "1576": "Thiago Marques",
      "1687": "Thiago Marques",
      "1729": "Thiago Marques",
      "1837": "Thiago Marques",
      "1163": "Val√©ria Abreu",
      "1164": "Val√©ria Abreu",
      "1165": "Val√©ria Abreu",
      "1317": "Val√©ria Abreu",
      "1319": "Val√©ria Abreu",
      "1321": "Val√©ria Abreu",
      "1324": "Val√©ria Abreu",
      "0073": "Victor Dutra",
      "0074": "Victor Dutra",
      "0078": "Victor Dutra",
      "0079": "Victor Dutra",
      "0080": "Victor Dutra",
      "0081": "Victor Dutra",
      "0082": "Victor Dutra",
      "0083": "Victor Dutra",
      "0086": "Victor Dutra",
      "0088": "Victor Dutra",
      "0091": "Victor Dutra",
      "0092": "Victor Dutra",
      "0094": "Victor Dutra",
      "0095": "Victor Dutra",
      "0098": "Victor Dutra",
      "0104": "Victor Dutra",
      "0105": "Victor Dutra",
      "0106": "Victor Dutra",
      "0109": "Victor Dutra",
      "0111": "Victor Dutra",
      "0666": "Victor Uczak",
      "0681": "Victor Uczak",
      "0533": "Vilane Dalhui",
      "0189": "Vilma Mota",
      "0819": "Vilma Mota",
      "1989": "Vilma Mota",
      "0195": "Viviane Acosta",
      "0847": "Viviane Acosta",
      "1956": "Viviane Acosta",
      "1977": "Viviane Acosta",
      "1994": "Viviane Acosta",
      "0988": "William Tanski",
      "1112": "William Tanski",
      "1129": "Wilson Rocha",
      "1144": "Wilson Rocha",
      "1151": "Wilson Rocha",
      "1155": "Wilson Rocha",
      "1158": "Wilson Rocha",
      "1160": "Wilson Rocha",
      "1161": "Wilson Rocha",
      "1168": "Wilson Rocha",
      "1171": "Wilson Rocha",
      "1180": "Wilson Rocha",
      "0317": "Zenir Hendler",
      "0318": "Zenir Hendler",
      "0326": "Zenir Hendler"
  };
  const totalRifas = 2000;
  let rifasSelecionadas = [];

  // --- ELEMENTOS DO DOM ---
  const container = document.getElementById('rifas-container');
  const contadorDiv = document.getElementById('contador');
  const rankingList = document.getElementById('ranking-list');
  const botaoWhatsapp = document.getElementById('enviar-whatsapp');

  const popupRifa = document.getElementById('popup-rifa');
  const popupContent = document.getElementById('popup-content');
  const overlayRifa = document.getElementById('overlay-rifa');
  const closePopupRifaBtn = document.getElementById('close-popup-rifa');

  const btnVerOutros = document.getElementById('btn-ver-outros');
  const popupOutros = document.getElementById('outros-compradores-popup');
  const overlayOutros = document.getElementById('overlay-outros');
  const closePopupOutrosBtn = document.getElementById('close-popup-outros');
  const listaOutrosCompradores = document.getElementById('lista-outros-compradores');
  const filtroInput = document.getElementById('filtro-compradores');


  // --- PROCESSAMENTO DE DADOS E RANKING ---
  const contagemCompradores = Object.values(rifasReservadas).reduce((acc, comprador) => {
      acc[comprador] = (acc[comprador] || 0) + 1;
      return acc;
  }, {});

  const ranking = Object.entries(contagemCompradores)
      .sort(([, a], [, b]) => b - a)
      .slice(0, 10);

  const emojis = ['ü•á', 'ü•à', 'ü•â'];
  ranking.forEach(([nome, qtd], index) => {
      const li = document.createElement('li');
      const emojiSpan = document.createElement('span');
      emojiSpan.className = 'emoji';
      emojiSpan.textContent = emojis[index] || '‚≠ê';

      const nomeSpan = document.createElement('span');
      nomeSpan.className = 'nome';
      nomeSpan.textContent = nome;

      const qtdSpan = document.createElement('span');
      qtdSpan.className = 'qtd';
      qtdSpan.textContent = `${qtd} rifas`;
      
      li.appendChild(emojiSpan);
      li.appendChild(nomeSpan);
      li.appendChild(qtdSpan);
      rankingList.appendChild(li);
  });

  const top10Nomes = ranking.map(item => item[0]);

  // --- GERA√á√ÉO DAS RIFAS ---
  const vendidas = Object.keys(rifasReservadas).length;
  contadorDiv.innerHTML = `üéüÔ∏è <strong>${vendidas}</strong> vendidas ‚Ä¢ <strong>${totalRifas - vendidas}</strong> dispon√≠veis`;

  const fragmento = document.createDocumentFragment();
  for (let i = 1; i <= totalRifas; i++) {
      const numStr = i.toString().padStart(4, '0');
      const div = document.createElement('div');
      div.classList.add('rifa');
      const comprador = rifasReservadas[numStr];

      if (comprador) {
          div.classList.add('reservada');
          div.title = `Reservada por: ${comprador}`;
          div.innerHTML = `${numStr}<br><small style="font-weight: normal; font-size: 10px; color: #900;">${comprador}</small>`;
          div.addEventListener('click', () => {
              popupContent.textContent = `Rifa ${numStr} reservada por: ${comprador}`;
              popupRifa.style.display = 'flex';
              overlayRifa.style.display = 'block';
          });
      } else {
          div.classList.add('disponivel');
          div.title = "Dispon√≠vel";
          div.textContent = numStr;
          div.addEventListener('click', () => {
              div.classList.toggle('selecionada');
              const index = rifasSelecionadas.indexOf(numStr);
              if (index > -1) {
                  rifasSelecionadas.splice(index, 1);
              } else {
                  rifasSelecionadas.push(numStr);
              }
              atualizarBotaoCompra();
          });
      }
      fragmento.appendChild(div);
  }
  container.appendChild(fragmento);


  // --- FUN√á√ïES E EVENTOS DOS POPUPS ---
  function closePopupRifa() {
      popupRifa.style.display = 'none';
      overlayRifa.style.display = 'none';
  }
  overlayRifa.addEventListener('click', closePopupRifa);
  closePopupRifaBtn.addEventListener('click', closePopupRifa);

  function closePopupOutros() {
      popupOutros.style.display = 'none';
      overlayOutros.style.display = 'none';
  }
  overlayOutros.addEventListener('click', closePopupOutros);
  closePopupOutrosBtn.addEventListener('click', closePopupOutros);


  // --- LISTA DE OUTROS COMPRADORES ---
  btnVerOutros.addEventListener('click', () => {
      const compradoresAgrupados = Object.entries(rifasReservadas).reduce((acc, [rifa, nome]) => {
          if (!acc[nome]) { acc[nome] = []; }
          acc[nome].push(rifa);
          return acc;
      }, {});

      listaOutrosCompradores.innerHTML = '';
      const outrosCompradores = Object.entries(compradoresAgrupados)
          .filter(([nome]) => !top10Nomes.includes(nome))
          .sort((a, b) => b[1].length - a[1].length);

      outrosCompradores.forEach(([nome, rifas]) => {
          const li = document.createElement('li');
          const total = rifas.length;
          const textoRifa = total > 1 ? 'rifas' : 'rifa';
          li.innerHTML = `<strong>${nome}</strong><span class="total-rifas">${total} ${textoRifa}</span>`;
          listaOutrosCompradores.appendChild(li);
      });

      popupOutros.style.display = 'flex';
      overlayOutros.style.display = 'block';
  });

  filtroInput.addEventListener('keyup', () => {
      const filtro = filtroInput.value.toLowerCase();
      const items = listaOutrosCompradores.getElementsByTagName('li');
      Array.from(items).forEach(item => {
          const nome = item.textContent || item.innerText;
          item.style.display = nome.toLowerCase().includes(filtro) ? '' : 'none';
      });
  });


  // --- FUNCIONALIDADE DE COMPRA ---
  function atualizarBotaoCompra() {
      botaoWhatsapp.textContent = `Comprar (${rifasSelecionadas.length})`;
  }

  botaoWhatsapp.addEventListener('click', () => {
      if (rifasSelecionadas.length === 0) {
          alert('Por favor, selecione pelo menos uma rifa.');
          return;
      }
      const numeros = rifasSelecionadas.sort().join(', ');
      const valorTotal = (rifasSelecionadas.length * 10).toFixed(2).replace('.', ',');
      const texto = `Ol√°! Gostaria de reservar as seguintes rifas da formatura:\n\n*N√∫meros:* ${numeros}\n\n*Valor total:* R$${valorTotal}\n\nPAGUE AGORA NO PIX: 863.853.990-87`;
      const numeroWhatsApp = '5511963868134'; // Substitua pelo n√∫mero correto
      const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(texto)}`;
      window.open(url, '_blank');
  });

});
</script>
</body>
</html>










